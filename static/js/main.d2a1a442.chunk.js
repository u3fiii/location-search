(this.webpackJsonpcoutries=this.webpackJsonpcoutries||[]).push([[0],{1:function(t,e,n){},12:function(t,e,n){t.exports=n(18)},17:function(t,e,n){},18:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),r=n(3),c=n.n(r),s=(n(17),n(4)),o=n(7),u=n(8),l=n(10),m=n(9),p=n(2),h=n(11),d=(n(1),n(6),function(t){return i.a.createElement("div",{className:"ProvList"},t.provinces.map((function(e){return i.a.createElement("div",{id:e.provinceID,onClick:t.openProvince,className:"province"},e.name)})))}),v=function(t){return i.a.createElement("div",{className:"CityList"},t.cities.map((function(e){return i.a.createElement("div",{id:e.cityID,onClick:t.openCity,className:"city"},e.name)})))},f=function(t){return i.a.createElement("div",{className:"DistList"},t.districts.map((function(t){return i.a.createElement("div",{id:t.districtID,className:"district"},t.name)})))},g=function(t){return i.a.createElement("div",{className:"MatchedList"},t.matchedWords.map((function(t){return i.a.createElement("div",{className:"matched"},t.name)})))},S=function(t){function e(){var t;return Object(o.a)(this,e),(t=Object(l.a)(this,Object(m.a)(e).call(this))).getSerp=function(e){e.preventDefault();var n=t.state.currentSearch;fetch("https://staging.mielse.com/api/v3.1.7/listings?locationType=1&locationID=301&searchTerm=".concat(n,"&o=1&withImage=1")).then((function(t){return t.json()})).then((function(e){return t.setState({listings:e.listings})})).then(console.log(t.state.listings)),console.log("hellow")},t.updataInput=function(e){var n=e.target.value;t.setState({currentSearch:n});var a=t.state.allNames.filter((function(e){var n=new RegExp(t.state.currentSearch,"gi");return e.name.match(n)}));t.setState({matchedWords:a})},t.openProvince=function(e){var n=t.state.provinces[e.target.id-1].cities;t.setState({cities:n,currentStep:1})},t.openCity=function(e){var n=t.state.cities.filter((function(t){return t.cityID==e.target.id}));t.setState({districts:n[0].districts,currentStep:2})},t.handleBack=function(e){e.preventDefault();var n=t.state.currentStep;t.setState({currentStep:n-1})},t.citiesPush=function(){var e=t.state.provinces.reduce((function(t,e){return t.push.apply(t,Object(s.a)(e.cities)),t}),[]);console.log(e),t.setState({allCities:e})},t.distPush=function(){var e=t.state.allCities.reduce((function(t,e){return t.push.apply(t,Object(s.a)(e.districts)),t}),[]);t.setState({allDists:e}),console.log("from distPush")},t.mergeArrays=function(){var e=t.state.allCities,n=t.state.allDists,a=t.state.provinces,i=e.concat(n,a);t.setState({allNames:i})},t.openLocation=function(){t.setState({openLocation:!0})},t.handleSubmit=function(e){e.preventDefault();var n=t.state.allNames.filter((function(e){var n=new RegExp(t.state.currentSearch,"gi");return e.name.match(n)}));t.setState({matchedWords:n})},t.componentDidMount=function(){fetch("https://staging.mielse.com/api/v5.2.0/general/static-data").then((function(t){return t.json()})).then((function(e){return t.setState({provinces:e.locationsData})})).then(t.citiesPush).then(t.distPush).then(t.mergeArrays)},t.state={locationOpen:!1,isLoading:"",listings:[],currentSearch:"",provinces:[],cities:[],districts:[],currentStep:0,allNames:[],allCities:[],allDists:[],matchedWords:[]},t.getSerp=t.getSerp.bind(Object(p.a)(t)),t}return Object(h.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this;return i.a.createElement("div",{className:"App"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("button",{className:"searchButton"},"Get Serp"),i.a.createElement("input",{value:this.state.currentSearch,onChange:this.updataInput}),i.a.createElement("button",{className:"backButton",onClick:this.handleBack},"Back")),""==this.state.currentSearch?i.a.createElement((function(){return 0==t.state.currentStep?i.a.createElement(d,{provinces:t.state.provinces,openProvince:t.openProvince}):1==t.state.currentStep?i.a.createElement(v,{cities:t.state.cities,openCity:t.openCity}):2==t.state.currentStep?i.a.createElement(f,{districts:t.state.districts}):void 0}),null):i.a.createElement(g,{matchedWords:this.state.matchedWords}))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[12,1,2]]]);
//# sourceMappingURL=main.d2a1a442.chunk.js.map